<div style="margin-bottom:10px">
  {{input type="text" class="form-control" placeholder="enter title press enter to submit" value=newQuestion action="CreateQuestion"}}
</div>
<div class="panel-group">
  {{#each item in data itemController="titledNote"}}
    {{#unless item.isDeleted}}
      {{#view App.TitledNoteView}}
         <div class="panel panel-default">
          <div class="panel-heading" {{action 'ToggleAnswer'}}>
            <h4 class="panel-title" {{action 'ToggleAnswer'}}>
              {{#if controller.isEditingAnswer}}
                {{input type="text" class="form-control" placeholder="" value=item.data.question action="controller.UpdateQuestion"}}
              {{else}}
              <p {{action 'ToggleEditAnswer' on='doubleClick'}}>{{item.data.question}}</p>
              {{/if}}
            </h4>
          </div>
          <div  {{bind-attr class="controller.answerClass"}}>
            <div class="panel-body">
                {{#if controller.isEditingAnswer}}
                  {{textarea class="form-control" placeholder="enter answer" value=item.data.answer}}
                  <button class="btn btn-success" {{action 'UpdateQuestion'}}>Save</button>
                {{else}}
                  {{#if item.data.answer}}
                  <div {{action 'ToggleEditAnswer' on='doubleClick'}}>{{{controller.text}}}</div>
                  {{else}}
                  <p {{action 'ToggleEditAnswer' on='doubleClick'}}>Double click to edit</p>
                  {{/if}}
                {{/if}}
            </div>
          </div>
        </div>
      {{/view}}
    {{/unless}}
  {{/each}}
</div>
